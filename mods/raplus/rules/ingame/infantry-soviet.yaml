E4:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 9
		Prerequisites: ~barr, ftur, ~infantry.soviet, ~soviet.or.ukraine, ~techlevel.medium
		Description: Close-range anti-structure unit.\nMay explode on death 30% chance.\n  Immune to Fire-based weaponry.\n  Strong vs Infantry, Buildings\n  Weak vs Vehicles, Aircraft
	Tooltip:
		Name: Flamethrower
	Valued:
		Cost: 400
	Mobile:
		PauseOnCondition: dont-move
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40
	Armor:
		Type: Flak
	Targetable:
		RequiresCondition: !parachute
		TargetTypes: Ground, Infantry, Disguise, Flamer
	Armament@PRIMARY:
		Weapon: Flamespray
		MuzzleSequence: muzzle
		LocalOffset: 500,0,300
		FireDelay: 4
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: Flamespray
	WithMuzzleOverlay:
	GrantConditionOnAttack:
		Condition: dont-move
		RevokeDelay: 16
		RevokeOnNewTarget: False
		RevokeAll: True
	TakeCover:
		ProneOffset: 160,0,-288
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
		DamageSource: Killer
		Chance: 30
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	Passenger:
		CustomPipType: pip-yellow
	DeliversCash:
		Payload: 100
		Type: InfantryRefund

E5:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@ROT: ^RottingInfantry
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 16
		Prerequisites: stek, ~infantry.soviet, ~soviet.or.turkmen, ~techlevel.high
		Description: Close range, anti-everything Infantry.\nWeapon poisons Infantry for 10 seconds.\n  Strong vs all Ground units and Structures.\n  Weak vs Anti-Infantry Defenses, Aircraft.
	Valued:
		Cost: 500
	Tooltip:
		Name: Chemical Trooper
	Health:
		HP: 90
	Armor:
		Type: Flak
	WithDeathAnimation:
	Passenger:
		CustomPipType: pip-red
	Armament@PRIMARY:
		Weapon: Chemspray
		LocalOffset: 341,0,256
		FireDelay: 3
		MuzzleSequence: muzzle
		MuzzlePalette: desert
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: Chemspray
		MuzzleSequence: muzzle
		MuzzlePalette: desert
	TakeCover:
		ProneOffset: 160,0,-288
	Mobile:
		Speed: 68
		PauseOnCondition: dont-move
	GrantConditionOnAttack:
		Condition: dont-move
		RevokeDelay: 12
		RevokeOnNewTarget: False
		RevokeAll: True
	WithInfantryBody:
		DefaultAttackSequence: shoot
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	WithMuzzleOverlay:
	Explodes:
		Weapon: UnitExplodeChemSmall
		EmptyWeapon: UnitExplodeChemSmall
		Chance: 30
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	RenderSprites:
		Image: e5
	DeliversCash:
		Payload: 150
		Type: InfantryRefund
	Targetable:
		RequiresCondition: !parachute
		TargetTypes: Ground, Infantry, Disguise, Chem

SAB:
	Inherits: ^Soldier	
	Inherits@selection: ^SelectableSupportUnit
	Inherits@ROT: ^RottingInfantry
	-AttackFrontal:
	-TakeCover:
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 6
		#	Prerequisites: ~barr, dome, ~infantry.soviet, ~soviet.or.belarus, ~techlevel.medium
		Prerequisites: ~barr, dome, ~infantry.soviet, ~techlevel.medium
		Description: Field operative of the Union.\n  Special Abilities:\nCan be deployed to turn Invisible for a limited time.\nCan Steal enemy Vehicles, even while Invisible.\nCan Enter enemy Structures, performing different functions:\n  - Production: Disables the structure for 30 seconds.\n  - Refineries: Steals 50% of stored Credits.\n  - Powerplants: Disables them causing Power outage.\n  - Radar Dome: Enemy mapview gets Shrouded.\n  - Tech Center: Unlocks Behemoth Tank unit.\n  - Superweapons: Reset preperation timer of weapon.\n  Unarmed
	Tooltip:
		Name: Saboteur
	Valued:
		Cost: 500
	Mobile:
		Speed: 68
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 45
	RevealsShroud:
		Range: 5c0
	CaptureManager:
	Captures:
		CaptureTypes: vehicle
		PlayerExperience: 50
		Voice: Attack
	Infiltrates:
		Types: ThiefInfiltrate
		Notification: BuildingInfiltrated
		PlayerExperience: 50
		Voice: Action
	WithInfantryBody:
		IdleSequences: idle
		StandSequences: stand
	Crushable:
		WarnProbability: 95
	#	Mailaender method of Ordos Saboteur cloak. ERROR WITH
	#	SyncAttribute on member of unhashable type: OpenRA.Mods.Common.Traits.TimedDeployState
	#	GrantChargeDrainCondition:
	#	DeployedCondition: deployed
	#	ChargeTicks: 1250
	#	DrainTicks: 375
	#	MustaphaTR method of Ordos Saboteur cloak
	#	at begin has no indicator of filling up, appears
	#	like undeployable might confuse player.
	#	issue: remains indefinetely cloaked after
	#	duration bar ends, until gets toggled off
	#	manually by the player, unit never uncloaks
	#	by itself. 
	#	GrantConditionOnDeploy@TIMEDCLOAK:
	#	PauseOnCondition: !charged
	#	UndeployOnCondition: !discharging
	#	DeployedCondition: deployed
	#	DeploySound: appear1.aud
	#	GrantDelayedCondition@CHARGE:
	#	RequiresCondition: !deployed
	#	Condition: charged
	#	Delay: 1250
	#	RevokeOnDisabled: true
	#	GrantTimedCondition@DISCHARGE:
	#	RequiresCondition: deployed
	#	Condition: discharging
	#	Duration: 375
	#	TimedConditionBar@DISCHARGE:
	#	Condition: discharging
	#	Color: FF8B008B
	
	#	this works, could be better
	#	GrantConditionOnDeploy:
	#	PauseOnCondition: discharge
	#	UndeployedCondition: charging
	#	DeployedCondition: discharging
	#	GrantTimedCondition@CHARGE:
	#	RequiresCondition: charging
	#	Condition: charge
	#	Duration: 1250
	#	TimedConditionBar@CHARGE:
	#	Condition: charge
	#	Color: 8B0000
	#	GrantTimedCondition@DISCHARGE:
	#	RequiresCondition: discharging
	#	Condition: discharge
	#	Duration: 375
	#	TimedConditionBar@DISCHARGE:
	#	Condition: discharge
	#	Color: 8B008B
	
	GrantTimedConditionOnDeploy:
		DeployedCondition: cloakison
		CooldownTicks: 1250
		DeployedTicks: 375
		DeploySound: appear1.aud
	Cloak:
		InitialDelay: 0
		CloakDelay: 65
		CloakSound: appear1.aud
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Damage, Heal
		IsPlayerPalette: true
		RequiresCondition: cloakison
		PauseOnCondition: cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Voiced:
		VoiceSet: ThiefVoice
	Passenger:
		CustomPipType: pip-blue
	DeliversCash:
		Payload: 125
		Type: InfantryRefund

VOLK:
	Inherits@ROT: ^RottingInfantry
	Inherits: GNRL
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		Prerequisites: ~barr, stek, ~infantry.soviet, ~!player.uzbek, ~techlevel.high
		BuildPaletteOrder: 8
		BuildLimit: 1
		Description: Elite commando infantry armed with anti-tank gun and C4.\nMaximum 1 can be trained\n  Special ability: Durability\nCannot be crushed unless its Mammoth Tank\n  Strong vs Infantry, Buildings\n  Weak vs Vehicles, Aircraft
	Valued:
		Cost: 1500
	Tooltip:
		Name: Volkov
	Mobile:
		Speed: 68
		Locomotor: foot
		Voice: Move
	Health:
		HP: 120
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	Demolition:
		DetonationDelay: 45
		Voice: Demolish
	Guard:
		Voice: Move
	Passenger:
		CustomPipType: pip-red
		Voice: Move
	AttackFrontal:
	Voiced:
		VoiceSet: VolkovVoice
	Armament:
		Weapon: VolkovGun
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: VolkovGun
		MuzzleSequence: garrison-muzzle
	DetectCloaked:
		CloakTypes: Cloak, Hijacker
	ChronoshiftableWithSpriteEffect:
		Image: chronoteleport
		WarpInSequence: disappear-flip
		WarpOutSequence: disappear
		Palette: effect
		ExplodeInstead: False
		ChronoshiftSound: chrono2.aud
		ReturnToOrigin: False
		TimeBarColor: ABB7E4
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	RenderSprites:
		Image: VOLK
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	AnnounceOnKill:
	Crushable:
		CrushClasses: heavywall
	Targetable:
		RequiresCondition: !parachute
		TargetTypes: Ground, Infantry, Disguise, Cyborg
	MapEditorData:
		Categories: Infantry
	DeliversCash:
		Payload: 375
		Type: InfantryRefund
	GpsDot:
		String: Commando

SHOK:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@ROT: ^RottingInfantry
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 7
		Prerequisites: ~barr, tsla, ~infantry.soviet, ~soviet.or.russia, ~techlevel.high
		Description: Infantry with portable Tesla coils.\nCan charge powerless Tesla Coils.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
	Tooltip:
		Name: Shock Trooper
	Valued:
		Cost: 475
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 70
	Armor:
		Type: Kevlar
	Mobile:
		Voice: Move
	RevealsShroud:
		Range: 5c0
	Armament@PRIMARY:
		Weapon: PortaTesla
		LocalOffset: 427,0,341
	Armament@SECONDARY:
		Weapon: TeslaCharge
		LocalOffset: 427,0,341
		Cursor: powerdown
		OutsideRangeCursor: powerdown
		TargetRelationships: Ally
		ForceTargetRelationships: None
	TakeCover:
		ProneOffset: 227,0,-245
	AttackFrontal:
		Voice: Attack
	AttackMove:
		Voice: Move
	Passenger:
		Voice: Move
		CustomPipType: pip-red
	Guard:
		Voice: Move
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	Voiced:
		VoiceSet: ShokVoice
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	DeliversCash:
		Payload: 118
		Type: InfantryRefund
		Voice: Move

SHOKR1:
	Inherits: SHOK
	RenderSprites:
		Image: SHOK
	ProducibleWithLevel:
		Prerequisites: techlevel.infonly
		InitialLevels: 1
	UpdatesPlayerStatistics:
		OverrideActor: shok
	-Buildable:
	-MapEditorData:

RPG:
	Inherits: ^Soldier
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 600
	Tooltip:
		Name: RPO Trooper
	Buildable:
		BuildPaletteOrder: 12
		Prerequisites: ~barr, ftur, ~soviet.or.kazakh, ~techlevel.medium
		Queue: Infantry
		BuildAtProductionType: Soldier
		Description: Soldier that shoots balls of Fire.\nCannot attack Air units.\n  Strong vs clustered Infantry, Structures\n  Weak vs Anti-Infantry measures
	Selectable:
		Class: E3
	Health:
		HP: 55
	AutoTarget:
		ScanRadius: 6
	Armament@PRIMARY:
		Weapon: FireballLauncher.Single
		LocalOffset: 256,43,341
		FireDelay: 5
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: FireballLauncher.Single
	TakeCover:
		ProneOffset: 180,0,-200
	AttackFrontal:
	WithInfantryBody:
		DefaultAttackSequence: shoot
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	Passenger:
		CustomPipType: pip-red
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
		DamageSource: Killer
	DeliversCash:
		Payload: 150
		Type: InfantryRefund

DESO:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@ROT: ^RottingInfantry
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 130
		Prerequisites: ~barr, stek, ~infantry.soviet, ~soviet.or.uzbek, ~techlevel.medium
		Description: Anti-infantry unit, with Radiation Beam weaponry.\n  Strong vs Infantry, Light Armor\n  Weak vs Tanks, Aircraft\n  Special Ability: Desolate Ground\nCan be deployed to scorch and poison ground around itself.
	Valued:
		Cost: 675
	Tooltip:
		Name: Gamma Trooper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 200
	Mobile:
		Voice: Move
		PauseOnCondition: !undeployed
	RevealsShroud:
		Range: 5c0
	Armament@PRIMARY:
		Weapon: RadBeamWeapon
		LocalOffset: 427,0,341
	Armament@Garrison:
		Name: garrisoned
		Weapon: RadBeamWeapon
	TakeCover:
		ProneOffset: 384,0,-395
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: !undeployed
	AttackMove:
		Voice: Move
	Passenger:
		Voice: Move
	Guard:
		Voice: Move
	Voiced:
		VoiceSet: DesolatorVoice
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	-Crushable:
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		UndeployOnMove: True
		Facing: 92
		Voice: Attack
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: undeployed
	WithSpriteBody@DEPLOYED:
		Sequence: deployed
		RequiresCondition: !undeployed
		Name: deployed
	WithMakeAnimation:
		Sequence: deploy
		BodyNames: deployed
	AmbientSound:
		SoundFiles: idesat2a.aud
		Interval: 60
		RequiresCondition: deployed
	ProximityExternalCondition@DEPLOYED:
		Range: 5c0
		ValidRelationships: Enemy, Neutral
		Condition: onfire
		RequiresCondition: deployed
	ProximityExternalCondition@DEPLOYED:
		Range: 5c0
		ValidRelationships: Enemy, Neutral
		Condition: hitbychem
		RequiresCondition: deployed
	WithRangeCircle@DEPLOYED:
		Range: 5c0
		Color: 008C00
		RequiresCondition: deployed
	Targetable:
		RequiresCondition: !parachute
		TargetTypes: Ground, Infantry, Disguise, Chem
	RenderSprites:
		PlayerPalette: player-td
	WithDeathAnimation:
		DeathSequencePalette: player-td
	Passenger:
		CustomPipType: pip-red
